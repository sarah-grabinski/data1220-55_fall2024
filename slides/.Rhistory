distribution = list('Plot A' = 'bimodal',
'Plot B' = 'left_skew'))) +
scale_x_continuous(breaks = seq(0, 15)) +
theme(axis.text.x = element_text(size = 6))
dist_df |>
pivot_longer(-id, names_to = 'distribution',
values_to = 'x') |>
ggplot(aes(x = x)) +
geom_histogram(fill = 'steelblue',
col = 'white'
binwidth = 1) +
dist_df |>
pivot_longer(-id, names_to = 'distribution',
values_to = 'x') |>
ggplot(aes(x = x)) +
geom_histogram(fill = 'steelblue',
col = 'white',
binwidth = 1) +
facet_wrap(~ distribution, nrow = 2,
labeller = labeller(
distribution = list('Plot A' = 'bimodal',
'Plot B' = 'left_skew'))) +
scale_x_continuous(breaks = seq(0, 15)) +
theme(axis.text.x = element_text(size = 6))
dist_df |>
pivot_longer(-id, names_to = 'distribution',
values_to = 'x') |>
ggplot(aes(x = x)) +
geom_histogram(fill = 'steelblue',
col = 'white',
binwidth = 1) +
facet_wrap(~ distribution, nrow = 2,
labeller = labeller(
distribution = c('Plot A' = 'bimodal',
'Plot B' = 'left_skew'))) +
scale_x_continuous(breaks = seq(0, 15)) +
theme(axis.text.x = element_text(size = 6))
dist_df |>
pivot_longer(-id, names_to = 'distribution',
values_to = 'x') |>
ggplot(aes(x = x)) +
geom_histogram(fill = 'steelblue',
col = 'white',
binwidth = 1) +
facet_wrap(~ distribution, nrow = 2,
labeller = labeller(
distribution = c(binomial = 'Plot A'))) +
scale_x_continuous(breaks = seq(0, 15)) +
theme(axis.text.x = element_text(size = 6))
dist_df |>
pivot_longer(-id, names_to = 'distribution',
values_to = 'x') |>
ggplot(aes(x = x)) +
geom_histogram(fill = 'steelblue',
col = 'white',
binwidth = 1) +
facet_wrap(~ distribution, nrow = 2,
labeller = labeller(
distribution = c('binomial' = 'Plot A'))) +
scale_x_continuous(breaks = seq(0, 15)) +
theme(axis.text.x = element_text(size = 6))
dist_df |>
pivot_longer(-id, names_to = 'distribution',
values_to = 'x') |>
ggplot(aes(x = x)) +
geom_histogram(fill = 'steelblue',
col = 'white',
binwidth = 1) +
facet_wrap(~ distribution, nrow = 2,
labeller = labeller(
distribution = c(binomial = `Plot A`))) +
scale_x_continuous(breaks = seq(0, 15)) +
theme(axis.text.x = element_text(size = 6))
dist_df |>
pivot_longer(-id, names_to = 'distribution',
values_to = 'x') |>
ggplot(aes(x = x)) +
geom_histogram(fill = 'steelblue',
col = 'white',
binwidth = 1) +
facet_wrap(~ distribution, nrow = 2,
labeller = labeller(
distribution = c('bimodal' = 'Plot A'))) +
scale_x_continuous(breaks = seq(0, 15)) +
theme(axis.text.x = element_text(size = 6))
set.seed(123); dist_df <- data.frame(
id = seq(1, 100),
uniform = c(unlist(lapply(0:10, function(x) rep(x, 8))),
sample(0:10, 12, replace = T)),
left_skew = round(sapply(seq(1, 100),
function(x) x^(1/3) * 2)),
right_skew = round(sapply(seq(1, 100),
function(x) x^2/1000)),
normal = round(abs(rnorm(100, mean = 5, sd = 2))),
bimodal = c(round(abs(rnorm(70, mean = 3, sd = 1))),
round(abs(rnorm(30, mean = 7, sd = 1)))),
outlier = c(rpois(95, 3), sample(11:13, 5, replace = T))
)
dist_df |>
pivot_longer(-id, names_to = 'distribution',
values_to = 'x') |>
ggplot(aes(x = x)) +
geom_histogram(fill = 'steelblue',
col = 'white',
binwidth = 1) +
facet_wrap(~ distribution, nrow = 2,
labeller = labeller(
distribution = c('bimodal' = 'Plot A',
'left_skew' = 'Plot B',
'normal' = 'Plot C',
'outlier' = 'Plot D',
'right_skew' = 'Plot E',
'uniform' = 'Plot F'))) +
scale_x_continuous(breaks = seq(0, 15)) +
theme(axis.text.x = element_text(size = 6))
dist_df |>
pivot_longer(-id, names_to = 'distribution',
values_to = 'x') |>
ggplot(aes(x = x)) +
geom_histogram(fill = 'steelblue',
col = 'white',
binwidth = 1) +
facet_wrap(~ distribution, nrow = 2,
labeller = labeller(
distribution = c('bimodal' = 'Bimodal, Asymmetric',
'left_skew' = 'Left-skewed',
'normal' = 'Normal',
'outlier' = 'Outliers',
'right_skew' = 'Right-skewed',
'uniform' = 'Uniform'))) +
scale_x_continuous(breaks = seq(0, 15)) +
theme(axis.text.x = element_text(size = 6))
mosaic::favstats(dist_df$outliers) |>
kbl() |>
kable_classic(full_width = F)
mosaic::favstats(dist_df$outlier) |>
kbl() |>
kable_classic(full_width = F)
mosaic::favstats(dist_df$bimodal) |>
kbl() |>
kable_classic(full_width = F)
tracks <- read_csv('./class08/raw_tracks.csv')
library(janitor)
library(datasets)
library(patchwork)
library(GGally)
library(mosaic)
library(kableExtra)
library(tidyverse)
theme_set(theme_bw())
tracks <- read_csv('./class08/raw_tracks.csv')
Hmisc::describe(tracks)
Hmisc::describe(tracks |> select(artist_name, track_duration))
View(tracks)
Hmisc::describe(tracks |> select(artist_name, track_duration) |> filter(duration > 01:00:00))
library(readxl)
songs <- read_csv('./class08/Girl Power Anthems.xlsx')
songs <- read_xlsx('./class08/Girl Power Anthems.xlsx')
songs <- read_xlsx('./class08/Girl Power Anthems.xlsx')
songs <- read_xls('./class08/Girl Power Anthems.xlsx')
songs <- read_xls('./class08/Girl Power Anthems.xlsx')
songs <- read_xls('./class08/Girl Power Anthems.xlsx')
songs <- read_xls('./class08/Girl Power Anthems.xlsx')
songs <- read_xlsx('./class08/Girl Power Anthems.xlsx')
songs |>
ggplot(aes(x = artists)) +
geom_bar()
songs |>
summarize(n = n(), .by = 'artists')
songs |>
summarize(n = n(), .by = 'artists') |>
arrange(desc(n))
songs <- read_xlsx('./class08/Taylor Swift Radio.xlsx')
songs |>
summarize(n = n(), .by = 'artists') |>
arrange(desc(n))
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor') |
str_detect(artists, 'xcx'), artists, 'Other'))
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor') |
str_detect(artists, 'xcx'), artists, 'Other'),
fill = fct_collapse(fill, 'Charli xcx' = c('Charli xcx',
'Charli xcx, Billie Eilish')))
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor') |
str_detect(artists, 'xcx'), artists, 'Other'),
fill = fct_collapse(fill, 'Charli xcx' = c('Charli xcx',
'Charli xcx, Billie Eilish'))) |>
summarize(n = n(),
.by = 'fill')
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor') |
str_detect(artists, 'xcx'), artists, 'Other'),
fill = fct_collapse(fill, 'Charli xcx' = c('Charli xcx',
'Charli xcx, Billie Eilish'))) |>
summarize(n = n(),
.by = 'fill') |> View()
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor') |
str_detect(artists, 'xcx'), artists, 'Other'),
fill = fct_collapse(fill, 'Charli xcx' = c('Charli xcx',
'Charli xcx, Billie Eilish'))) |>
ggplot(aes(x = fill)) +
geom_bar()
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor') |
str_detect(artists, 'xcx'), artists, 'Other'),
fill = fct_collapse(fill, 'Charli xcx' = c('Charli xcx',
'Charli xcx, Billie Eilish'))) |>
summarize(n = n(),
.by = 'fill') |>
ggplot(aes(x = fill, y = n, fill = fill)) +
geom_bar()
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor') |
str_detect(artists, 'xcx'), artists, 'Other'),
fill = fct_collapse(fill, 'Charli xcx' = c('Charli xcx',
'Charli xcx, Billie Eilish'))) |>
summarize(n = n(),
.by = 'fill') |>
ggplot(aes(x = fill, y = n, fill = fill)) +
geom_col()
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor') |
str_detect(artists, 'xcx'), artists, 'Other'),
fill = fct_collapse(fill, 'Charli xcx' = c('Charli xcx',
'Charli xcx, Billie Eilish'))) |>
summarize(n = n(),
.by = 'fill') |>
ggplot(aes(x = reorder(fill, n),
y = n, fill = fill)) +
geom_col()
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor') |
str_detect(artists, 'xcx'), artists, 'Other'),
fill = fct_collapse(fill, 'Charli xcx' = c('Charli xcx',
'Charli xcx, Billie Eilish'))) |>
summarize(n = n(),
.by = 'fill') |>
ggplot(aes(x = reorder(fill, n),
y = n, fill = fill)) +
geom_col() +
guides(fill = 'none')
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor') |
str_detect(artists, 'xcx'), artists, 'Other'),
fill = fct_collapse(fill, 'Charli xcx' = c('Charli xcx',
'Charli xcx, Billie Eilish'))) |>
summarize(n = n(),
.by = 'fill') |>
ggplot(aes(x = reorder(fill, n),
y = n, fill = fill)) +
geom_col() +
guides(fill = 'none')
songs <- read_xlsx('./class08/Taylor Swift Radio.xlsx') |>
mutate(artists = fct_collapse(artists,
'Charli xcx' = c('Charli xcx',
'Charli xcx, Billie Eilish')))
songs <- read_xlsx('./class08/Taylor Swift Radio.xlsx') |>
mutate(artists = fct_collapse(artists,
'Charli xcx' = c('Charli xcx',
'Charli xcx, Billie Eilish')))
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor',
'Charli xcx'),
artists, 'Other'))) |>
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor',
'Charli xcx'),
artists, 'Other')) |>
summarize(n = n(),
.by = 'fill') |>
ggplot(aes(x = reorder(fill, n),
y = n, fill = fill)) +
geom_col() +
guides(fill = 'none')
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor',
'Charli xcx'),
as.character(artists), 'Other')) |>
summarize(n = n(),
.by = 'fill') |>
ggplot(aes(x = reorder(fill, n),
y = n, fill = fill)) +
geom_col() +
guides(fill = 'none')
nrow(songs)
unique(songs$artists)
length(unique(songs$artists))
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor',
'Charli xcx'),
as.character(artists), 'Other')) |>
summarize(prop = n() / nrow(songs),
.by = 'fill') |>
ggplot(aes(x = reorder(fill, prop),
y = prop, fill = fill)) +
geom_col() +
guides(fill = 'none')
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor',
'Charli xcx'),
as.character(artists), 'Other')) |>
summarize(n = n(),
.by = 'fill') |>
ggplot(aes(x = reorder(fill, n),
y = n, fill = fill)) +
geom_col() +
guides(fill = 'none') +
labs(title = "Number of Songs on the 'Taylor Swift Radio' playlist on Spotify by Artist",
subtitle = paste('Total artists = ', length(unique(songs$artists)), sep = ''))
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor',
'Charli xcx'),
as.character(artists), 'Other')) |>
summarize(n = n(),
.by = 'fill') |>
ggplot(aes(x = reorder(fill, n),
y = n, fill = fill)) +
geom_col() +
guides(fill = 'none') +
labs(title = "Number of Songs on the 'Taylor Swift Radio' playlist on Spotify by Artist",
subtitle = paste('Total artists = ', length(unique(songs$artists)), sep = ''),
x = 'Artist', y = 'Count of Songs on Playlist')
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor',
'Charli xcx'),
as.character(artists), 'Other'),
fct_infreq(fill)) |>
summarize(n = n(),
.by = 'fill') |>
ggplot(aes(x = reorder(fill, n),
y = n, fill = fill)) +
geom_col() +
guides(fill = 'none') +
labs(title = "Number of Songs on the 'Taylor Swift Radio' playlist on Spotify by Artist",
subtitle = paste('Total artists = ', length(unique(songs$artists)), sep = ''),
x = 'Artist', y = 'Count of Songs on Playlist')
songs <- read_xlsx('./class08/Taylor Swift Radio.xlsx') |>
mutate(artists = fct_collapse(artists,
'Charli xcx' = c('Charli xcx',
'Charli xcx, Billie Eilish'))) |>
mutate(artists = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor',
'Charli xcx'),
as.character(artists), 'Other')) |>
summarize(n = n(),
.by = 'artists')
songs |>
ggplot(aes(x = reorder(fill, n),
y = n, fill = fill)) +
geom_col() +
guides(fill = 'none') +
labs(title = "Number of Songs on the 'Taylor Swift Radio' playlist on Spotify by Artist",
subtitle = paste('Total artists = ', length(unique(songs$artists)), sep = ''),
x = 'Artist', y = 'Count of Songs on Playlist')
songs |>
ggplot(aes(x = reorder(fill, n),
y = n, fill = fill)) +
geom_col() +
guides(fill = 'none') +
labs(title = "Number of Songs on the 'Taylor Swift Radio' playlist on Spotify by Artist",
subtitle = 'Total artists = 26',
x = 'Artist', y = 'Count of Songs on Playlist')
songs |>
ggplot(aes(x = reorder(artists, n),
y = n, fill = artists)) +
geom_col() +
guides(fill = 'none') +
labs(title = "Number of Songs on the 'Taylor Swift Radio' playlist on Spotify by Artist",
subtitle = 'Total artists = 26',
x = 'Artist', y = 'Count of Songs on Playlist')
songs |>
mutate(fill = ifelse(artists %in% c('Taylor Swift',
'Chappell Roan',
'Billie Eilish',
'Adele',
'Lana Del Rey',
'Meghan Trainor',
'Charli xcx'),
as.character(artists), 'Other')) |>
summarize(prop = n() / nrow(songs),
.by = 'fill') |>
ggplot(aes(x = reorder(fill, prop),
y = prop, fill = fill)) +
geom_col() +
guides(fill = 'none')
songs |>
ggplot(aes(x = reorder(fill, prop),
y = prop, fill = fill)) +
geom_col() +
guides(fill = 'none')
View(songs)
songs |>
mutate(prop = n / 50) |>
ggplot(aes(x = reorder(fill, prop),
y = prop, fill = fill)) +
geom_col() +
guides(fill = 'none')
songs |>
mutate(prop = n / 50) |>
ggplot(aes(x = reorder(artists, prop),
y = prop, fill = artists)) +
geom_col() +
guides(fill = 'none')
songs <- read_xlsx('./class08/Taylor Swift Radio.xlsx') |>
# mutate(artists = fct_collapse(artists,
#                               'Charli xcx' = c('Charli xcx',
#                                                'Charli xcx, Billie Eilish'))) |>
summarize(n = n(),
.by = 'artists') |>
filter(n >= 2 |
str_detect('Charli xcx'))
songs <- read_xlsx('./class08/Taylor Swift Radio.xlsx') |>
# mutate(artists = fct_collapse(artists,
#                               'Charli xcx' = c('Charli xcx',
#                                                'Charli xcx, Billie Eilish'))) |>
summarize(n = n(),
.by = 'artists') |>
filter(n >= 2 |
str_detect(artists, 'Charli xcx'))
View(songs)
